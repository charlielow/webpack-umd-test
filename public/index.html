<!DOCTYPE html>
<html>
  <head>
  <title></title>
  <style>

  </style>
  </head>
  <body>

    <p>
      "testWithoutImport.js" returns the expected object when required
    </p>
    <p>
      But when a random import is used on the same script, "testWithImport.js" returns an esModule when required which breaks in browsers
    </p>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js"></script>
    <script>
      
      function logToBody (toLog) {
        document.querySelector('body').innerHTML += `
          <hr>
          <pre>
${toLog.toString()}
${JSON.stringify(toLog, null, 2)}
          </pre>
          <hr>
        `
      }

      // Require each test script and log / print the return value

      require(['dist/testWithoutImport'], function(returnValue) {
        console.log(returnValue);
        logToBody(returnValue);
      });

      require(['dist/testWithImport'], function(returnValue) {
        console.log(returnValue);
        logToBody(returnValue);
      });
    </script>
  </body>
</html>
